<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gpt Sovits</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
  </head>
  <body>
    <form id="synthForm">
      <h1>Gpt Sovits</h1>

      <label for="model">Choose a model:</label>
      <select name="model" id="model">
        <option value="Hu Tao">Hu Tao</option>
      </select>

      <label for="text">Inference Text:</label>
      <input type="text" required name="text" id="text" value="" />

      <!-- Extra Settings Toggle -->
      <button
        type="button"
        id="toggleSettings"
        class="tooltip"
        data-tooltip="Configure advanced settings"
      >
        Extra Settings
      </button>

      <!-- Hidden Extra Settings -->
      <div class="settings" id="extraSettings">
        <h3>Extra Settings</h3>

        <label for="output_lan">Output Language:</label>
        <input type="text" id="output_lan" name="output_lan" value="en" />

        <label for="top_k">Top K:</label>
        <input type="number" id="top_k" name="top_k" value="5" />

        <label for="top_p">Top P:</label>
        <input type="number" step="0.01" id="top_p" name="top_p" value="1" />

        <label for="temperature">Temperature:</label>
        <input
          type="number"
          step="0.01"
          id="temperature"
          name="temperature"
          value="1"
        />

        <label for="text_split_method">Text Split Method:</label>
        <input
          form="text_split_method"
          id="text_split_method"
          name="text_split_method"
          value="cut0"
        />

        <label for="batch_size">Batch Size:</label>
        <input type="number" id="batch_size" name="batch_size" value="1" />

        <label for="batch_threshold">Batch Threshold:</label>
        <input
          type="number"
          step="0.01"
          id="batch_threshold"
          name="batch_threshold"
          value="0.75"
        />

        <label for="split_bucket">Split Bucket:</label>
        <select id="split_bucket" name="split_bucket">
          <option value="true" selected>True</option>
          <option value="false">False</option>
        </select>

        <label for="speed_factor">Speed Factor:</label>
        <input
          type="number"
          step="0.01"
          id="speed_factor"
          name="speed_factor"
          value="1.0"
        />

        <label for="streaming_mode">Streaming Mode:</label>
        <select id="streaming_mode" name="streaming_mode">
          <option value="false" selected>False</option>
          <option value="true">True</option>
        </select>

        <label for="fragment_interval">Fragment Interval:</label>
        <input
          type="number"
          step="0.01"
          id="fragment_interval"
          name="fragment_interval"
          value="0.3"
        />

        <label for="seed">Seed:</label>
        <input type="number" id="seed" name="seed" value="-1" />

        <label for="parallel_infer">Parallel Infer:</label>
        <select id="parallel_infer" name="parallel_infer">
          <option value="true" selected>True</option>
          <option value="false">False</option>
        </select>

        <label for="repetition_penalty">Repetition Penalty:</label>
        <input
          type="number"
          step="0.01"
          id="repetition_penalty"
          name="repetition_penalty"
          value="1.35"
        />

        <label for="sample_steps">Sample Steps:</label>
        <input type="number" id="sample_steps" name="sample_steps" value="32" />

        <label for="super_sampling">Super Sampling:</label>
        <select id="super_sampling" name="super_sampling">
          <option value="false" selected>False</option>
          <option value="true">True</option>
        </select>

        <label for="output_file">Output File:</label>
        <input
          type="text"
          id="output_file"
          name="output_file"
          value="output.wav"
        />
      </div>

      <input type="submit" value="Submit" />
    </form>

    <div id="audioContainer"></div>

    <script src="{{ url_for('static', filename='main.js') }}"></script>
  </body>
</html>
